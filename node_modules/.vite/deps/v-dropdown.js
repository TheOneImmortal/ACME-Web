import {
  Teleport,
  Transition,
  defineComponent,
  h,
  onBeforeUnmount,
  onMounted,
  onUnmounted,
  reactive,
  ref,
  vShow,
  watch,
  withDirectives
} from "./chunk-PGO3FJ72.js";
import "./chunk-ROME4SDB.js";

// node_modules/.store/v-dropdown@3.0.0/node_modules/v-dropdown/dist/v-dropdown.js
(function() {
  "use strict";
  try {
    if (typeof document < "u") {
      var i = document.createElement("style");
      i.appendChild(document.createTextNode(".animate-down-enter-from,.animate-down-leave-to{transform:scale(.95);opacity:0}.animate-down-enter-active{transform-origin:top left;transition-property:opacity,transform;transition-duration:.15s;transition-timing-function:cubic-bezier(.4,0,.2,1)}.animate-down-leave-active{transform-origin:top left;transition-property:opacity,transform;transition-duration:75ms;transition-timing-function:cubic-bezier(.4,0,.2,1)}.animate-up-enter-from,.animate-up-leave-to{transform:scale(.95);opacity:0}.animate-up-enter-active{transform-origin:bottom left;transition-property:opacity,transform;transition-duration:.15s;transition-timing-function:cubic-bezier(.4,0,.2,1)}.animate-up-leave-active{transform-origin:bottom left;transition-property:opacity,transform;transition-duration:75ms;transition-timing-function:cubic-bezier(.4,0,.2,1)}.v-dropdown-trigger{display:inline-flex}.v-dropdown-trigger.v-dropdown-trigger--full-width{display:flex}.v-dropdown-container{-webkit-font-smoothing:subpixel-antialiased;backface-visibility:hidden;display:inline-flex;margin:0;padding:0;position:absolute;top:0;left:0;border:1px solid #D6D7D7;box-sizing:border-box;background-color:#fff;border-radius:.3rem;overflow:hidden;z-index:3000;will-change:opacity,transform,top,left;box-shadow:0 15px 25px #0003}.v-dropdown-container.v-dropdown-no-border{border:0;border-radius:.5rem;box-shadow:0 10px 30px #0006}")), document.head.appendChild(i);
    }
  } catch (t) {
    console.error("vite-plugin-css-injected-by-js", t);
  }
})();
function W() {
  const e = window.pageXOffset !== void 0, t = (document.compatMode || "") === "CSS1Compat";
  return {
    x: e ? window.pageXOffset : t ? document.documentElement.scrollLeft : document.body.scrollLeft,
    y: e ? window.pageYOffset : t ? document.documentElement.scrollTop : document.body.scrollTop
  };
}
function Y(e) {
  return window.getComputedStyle(e).display === "none";
}
function G(e) {
  if (Y(e)) {
    e.style.visibility = "hidden", e.style.display = "inline-block";
    const t = e.getBoundingClientRect();
    return e.style.visibility = "visible", e.style.display = "none", t;
  }
  return e.getBoundingClientRect();
}
var L = "click";
var j = "hover";
var A = "contextmenu";
var H = 150;
var x = 5;
function $(e, t) {
  return typeof e.animated == "string" ? e.animated : e.animated ? t.value ? "animate-up" : "animate-down" : "";
}
function B(e) {
  return {
    isTriggerByClick: e.trigger === L,
    isTriggerByHover: e.trigger === j,
    isTriggerByContextmenu: e.trigger === A
  };
}
function K(e, t, c, s) {
  const { isTriggerByContextmenu: n } = B(e), o = window.pageYOffset, d = document.documentElement.clientHeight, f = n ? t : c.top + o;
  let i = n ? t : c.top + c.height + x + o, u = false, l = false, p = false;
  return i + s.height > o + d && (u = true), f - x - s.height < o && (l = true), !l && u && (i = f - x - s.height, p = true), { dropUp: p, top: i };
}
function q(e, t, c, s) {
  const { isTriggerByContextmenu: n } = B(e), o = window.pageXOffset, d = document.documentElement.clientWidth, f = n ? 0 : c.width, i = n ? t : c.left + o, u = i + f / 2 - s.width / 2, l = i + f - s.width;
  switch (e.align) {
    case "left":
      return i + s.width > o + d ? l : i;
    case "center":
      return u + s.width > o + d ? l : l < o ? i : u;
    case "right":
      return l < o ? i : l;
  }
}
function z(e) {
  const t = W();
  return {
    x: e.pageX || e.clientX + t.x,
    y: e.pageY || e.clientY + t.y
  };
}
function F(e) {
  return [
    "v-dropdown-container",
    e.border || "v-dropdown-no-border",
    e.customContainerClass && e.customContainerClass
  ];
}
function J(e) {
  return [
    "v-dropdown-trigger",
    e.fullWidth && "v-dropdown-trigger--full-width",
    e.customTriggerClass && e.customTriggerClass
  ];
}
var Z = defineComponent({
  name: "VDropdown",
  props: {
    /** Container show up alignment direction */
    align: { type: String, default: "left" },
    border: { type: Boolean, default: true },
    /**
     * Toggle display / close dropdown container
     */
    toggle: { type: Boolean, default: true },
    /** Manual control the display and hiding of dropdown */
    manual: { type: Boolean, default: false },
    disabled: { type: Boolean, default: false },
    /**
     * Open / close dropdown animation
     *
     * {boolean}
     * - true: use default animation
     * - false: don't display animation
     * {string} customized animation class-name
     */
    animated: { type: [String, Boolean], default: true },
    /**
     * The width of dropdown container
     * min-width: 80
     */
    width: { type: Number, default: void 0 },
    /**
     * Trigger container display type
     * - false: inline-block
     * - true: block
     */
    fullWidth: { type: Boolean, default: false },
    /**
     * Dropdown trigger method
     * - `click` default
     * - `hover`
     * - `contextmenu`
     */
    trigger: { type: String, default: L },
    /** Add custom class to trigger */
    customTriggerClass: { type: String, default: "" },
    /** Add custom class to container */
    customContainerClass: { type: String, default: "" }
  },
  emits: ["visible-change"],
  setup(e, { slots: t, emit: c, expose: s }) {
    const n = ref(false), o = reactive({ top: "", left: "", width: "" }), d = reactive({ x: null, y: null }), f = ref(false), i = ref(null), u = ref(null), l = ref(null), {
      isTriggerByClick: p,
      isTriggerByHover: C,
      isTriggerByContextmenu: b
    } = B(e);
    watch(n, (r) => c("visible-change", r));
    function v() {
      e.disabled || ("trigger" in t && S(), C ? (window.clearTimeout(i.value), i.value = window.setTimeout(() => {
        n.value = true;
      }, H)) : n.value = true);
    }
    function y(r = false) {
      e.disabled || !e.toggle && !r || (C ? (window.clearTimeout(i.value), i.value = window.setTimeout(() => {
        n.value = false;
      }, H)) : n.value = false);
    }
    function E() {
      n.value ? y() : v();
    }
    function S() {
      const r = G(u.value), a = G(l.value), w = K(e, d.y, r, a), g = q(e, d.x, r, a);
      f.value = w.dropUp, o.top = `${w.top}px`, o.left = `${g}px`;
    }
    function O(r) {
      if (!n.value)
        return;
      const a = r.composedPath().some((w) => w === u.value);
      a && !e.toggle && !b || (!a || a && b) && y(true);
    }
    return onMounted(() => {
      typeof e.width < "u" && (o.width = e.width + "px"), document.body.addEventListener("mousedown", O);
    }), onBeforeUnmount(() => {
      document.body.removeEventListener("mousedown", O), l.value && l.value.remove();
    }), onUnmounted(() => {
      u.value && u.value.remove();
    }), s({
      display: v,
      close: y,
      toggleVisible: E,
      adjust: S,
      container: l,
      visible: n
    }), () => {
      const r = [];
      "trigger" in t && r.push(t.trigger({
        visible: n,
        disabled: e.disabled
      }));
      const a = {
        class: F(e),
        style: o,
        ref: l,
        // do not close dropdown container when
        // do some operations in that
        onMousedown: (m) => m.stopPropagation()
      };
      C && (a.onMouseenter = v, a.onMouseleave = y);
      const w = withDirectives(
        h("div", a, t.default && t.default()),
        [[vShow, n.value]]
      );
      r.push(
        h(Teleport, { to: "body" }, [
          h(Transition, { name: $(e, f) }, () => [w])
        ])
      );
      const g = {
        class: J(e),
        ref: u
      };
      return C ? (g.onMouseenter = v, g.onMouseleave = y) : p ? g.onClick = (m) => {
        e.manual || (m.stopPropagation(), E());
      } : b && (g.onContextmenu = (m) => {
        if (e.manual)
          return;
        m.stopPropagation(), m.preventDefault();
        const M = z(m);
        d.x = M.x, d.y = M.y, v();
      }), h("div", g, r);
    };
  }
});
export {
  Z as Dropdown,
  Z as default
};
//# sourceMappingURL=v-dropdown.js.map
